{
  "name": "Google Ads (Incremental Template)",
  "sourceType": "google-ads",
  "workspaceId": "00000000-0000-0000-0000-000000000000",
  "configuration": {
    "developer_token": "${AIRBYTE_GOOGLE_ADS_DEVELOPER_TOKEN}",
    "client_id": "${AIRBYTE_GOOGLE_ADS_CLIENT_ID}",
    "client_secret": "${AIRBYTE_GOOGLE_ADS_CLIENT_SECRET}",
    "refresh_token": "${AIRBYTE_GOOGLE_ADS_REFRESH_TOKEN}",
    "login_customer_id": "${AIRBYTE_GOOGLE_ADS_LOGIN_CUSTOMER_ID}",
    "customer_id": "${AIRBYTE_GOOGLE_ADS_CUSTOMER_ID}",
    "start_date": "2024-01-01",
    "end_date": null,
    "conversion_window": "${AIRBYTE_GOOGLE_ADS_CONVERSION_WINDOW_DAYS}",
    "lookback_window": "${AIRBYTE_GOOGLE_ADS_LOOKBACK_DAYS}",
    "use_resource_custom_queries": true,
    "custom_queries": [
      {
        "name": "campaign_performance_daily",
        "query": "SELECT segments.date, campaign.id, campaign.name, metrics.impressions, metrics.clicks, metrics.cost_micros, metrics.conversions, metrics.conversions_value FROM campaign WHERE segments.date BETWEEN '{{ runtime_from_date }}' AND '{{ runtime_to_date }}'",
        "primary_key": [
          "campaign.id",
          "segments.date"
        ],
        "cursor_field": "segments.date",
        "destination_sync_mode": "append_dedup"
      },
      {
        "name": "geo_performance_daily",
        "query": "SELECT segments.date, campaign.id, segments.geo_target_country, segments.geo_target_region, segments.geo_target_city, metrics.impressions, metrics.clicks, metrics.cost_micros, metrics.conversions, metrics.conversions_value FROM geographic_view WHERE segments.date BETWEEN '{{ runtime_from_date }}' AND '{{ runtime_to_date }}'",
        "primary_key": [
          "campaign.id",
          "segments.date",
          "segments.geo_target_country",
          "segments.geo_target_region",
          "segments.geo_target_city"
        ],
        "cursor_field": "segments.date",
        "destination_sync_mode": "append_dedup"
      }
    ]
  },
  "streams": [
    {
      "name": "campaign_performance_daily",
      "sync_mode": "incremental",
      "cursor_field": "segments.date",
      "destination_sync_mode": "append_dedup"
    },
    {
      "name": "geo_performance_daily",
      "sync_mode": "incremental",
      "cursor_field": "segments.date",
      "destination_sync_mode": "append_dedup"
    }
  ]
}
